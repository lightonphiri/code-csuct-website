<HTML>
<HEAD>
<TITLE>/home/phiri/Projects/work/2015/uct-cs-csc1010h/tutorials/7/raw/mhlnal005/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
/home/phiri/Projects/work/2015/uct-cs-csc1010h/tutorials/7/raw/ntsnom028/<p><PRE>
&gt;&gt;&gt;&gt; file: book_cypher.py
#bookcypher

input_file=input("Enter the book filename:\n")
message=input("Enter the message:\n").lower().split(" ")
output_file=input("Enter the output filename:\n")
new_file=open(output_file,"w")
add=""

import string

while message != []:
    b=0
    c=0
    k=open(input_file,"r")
    for sentence in k:
        b += 1        
        sentence=sentence.lower().split(" ")
        sentence[-1]=sentence[-1][:sentence[-1].find("\n")]
        my_list=[]
        for word in sentence:
            for letter in word:
                if letter in string.punctuation:
                    word = word[:word.find(letter)]+word[word.find(letter)+1:]
            my_list.append(word)
        alist=[]
        if message[0] in my_list:
            c=1
            if "" in my_list:
                while "" in my_list:
                    my_list=my_list[:my_list.index("")]+my_list[my_list.index("")+1:]
            add += str(b) + "-" + str(my_list.index(message[0])+1)+"\n"
            break
        else:
            continue
    if c ==0:
        add += message[0]+"\n"
    message=message[1:]
    k.close()

print("BEGIN",file=new_file)
print("BEGIN")
print(add[:-1],file=new_file)
print(add[:-1])
print("END",file=new_file)
print("END")
new_file.close()
&gt;&gt;&gt;&gt; file: leader_board.py
 # leader_board.py
import traceback
import sys 

def process_line(line):
    parts = line.split(' ')
    name = parts[0]
    trials = int(parts[1])
    average = float(parts[2])
    return (name, trials, average)

def get_max(entries):
    max = entries[0]
    for i in range(1, len(entries)):
        if entries[i][2] &lt;max[2]:
            max = entries[i]
            
    entries.remove(max)
    return max

def sort(entries):
    sorted_entries = []
    while len(entries)&gt;0:
        sorted_entries.append(get_max(entries))
    return sorted_entries

def output(entries):
<A NAME="0"></A><FONT color = #FF0000><A HREF="match168-0.html#0" TARGET="0"><IMG SRC="../../bitmaps/tm_0_5.gif" ALT="other" BORDER="0" ALIGN=left></A>

    print('Subject        | Average Time')
    print('************** | ************')
    for entry in entries:
        print('{:14} | {:.6}'.format(entry[0], entry[2]))
              
def main():
    try: #generate exception
        file_name = input('Enter the name of the file:\n')
        file_input = open(file_name, 'r')
        
        entries = []
</FONT>        for line in file_input:
            entries.append(process_line(line))
        file_input.close()
    
        entries = sort(entries)
        output(entries)
    except IOError as ve: #if exception occurs (cant find file)
        print('This IOError occured', ve)
        main()
   
    except ValueError:
        traceback.print_exc()
        print("The error was",line)
        print("Correct file format is: Name of subject, number of tests conducted, subject's average reaction time")
        main()
        
    entries = []
    b = 0
    for line in file_input:
        b+=1
        try:
            entries.append(process_line(line))
        
        except IndexError as ie:
            print("There is an index error in line number",b)
            print(line)
            print("The each line needs to contain 3 elements.")
            main()
        file_input.close()  
        entries = sort(entries)
        output(entries)        
        
main()
    &gt;&gt;&gt;&gt; file: reaction_test.py
<A NAME="1"></A><FONT color = #00FF00><A HREF="match168-0.html#1" TARGET="0"><IMG SRC="../../bitmaps/tm_1_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

import time
import random

def flush_input(): #for the buffering
 try:
  import msvcrt
  while msvcrt.kbhit():
   msvcrt.getch()
 except ImportError:
  import sys, termios
  termios.tcflush(sys.stdin, termios.TCIOFLUSH)
</FONT>
def test(number): #TESTS THE USER
    times = 0
    for i in range(number):
        print("Get ready...",flush=True)
        sec = random.randint(1,5)
        time.sleep(sec)
        starttime = time.time()
        game = input("Press 'enter' NOW!")
        end_time = time.time()
        timetaken = end_time - starttime
        timetaken = round(timetaken,6)
        times+=timetaken
        print("Reaction time:",timetaken)
    average = times/number 
    average = round(average,6)
    print("Tests complete.\nAverage reaction time: "+str(average))
    return str(average)


def main():
    results= []
    file_name = input('Enter the name of the output file:\n')
    f = open(file_name, 'w')
    while True:
     name = input("Enter subject name (or press 'enter' to quit):\n ")
     if name=='':
      break  
     else:
      f.write(name)
      number = int(input('Enter the number of tests:\n'))
      f.write(test(number))
      print()
    f.close()
main()
</PRE>
</PRE>
</BODY>
</HTML>
