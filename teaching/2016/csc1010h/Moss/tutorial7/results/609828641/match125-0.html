<HTML>
<HEAD>
<TITLE>/home/phiri/Projects/work/2016/misc-csc1010h/tutorials/Moss/tutorial7/raw/gnxulr001/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
/home/phiri/Projects/work/2016/misc-csc1010h/tutorials/Moss/tutorial7/raw/gnxulr001/<p><PRE>
&gt;&gt;&gt;&gt; file: book_cypher.py
# Book cypher
# gnxulr001
# Ulrich Geen
# 13 Sep 2016

def indexed_word(message_lst, book_name):
    # Find word inside book file, return line number and word index
    book_file=open(book_name,"r")
    lines=book_file.readlines()
    line_lst=[]
    positions=[]
    words=message_lst
    for i in range(len(words)):
        n=0
        for j in range(len(lines)):
            n+=1
            line=lines[j]
            line=line.lower()
            line_lst=line.split()
            for k in range(len(line_lst)):
                word=line_lst[k]
                word=word.strip('.?,!;:)([]{}\'"\n ...')
                if word==words[i]:
                    positions.append([str(n), str(k+1)])
                    break
                # If the word isn't in the book, go to next word
            if len(positions)==i+1:
                break
        if n==3494:
            positions.append([words[i]])
    book_file.close()
    return positions
    
def main():
    index_list=[]
    # Get book file name
    book_name=input("Enter the book filename:\n")
    # Get message
    message=input("Enter the message:\n")
    message=message.lower()
    # Get output file
    out_file=input("Enter the output filename:\n")
    file=open(out_file,'w')
    # Separate sentence into words
    message_lst=message.split()
    index_lst=indexed_word(message_lst, book_name)
    # Display line number and word index of words in message
    print('BEGIN')
    print('BEGIN', file=file)
    for index in index_lst:# Append line number and word index of words in message
        if len(index)==2:
            print(index[0]+'-'+index[1])
            print(index[0]+'-'+index[1], file=file)
        else:
            print(index[0])
            print(index[0], file=file)
    print('END')
<A NAME="0"></A><FONT color = #FF0000><A HREF="match125-1.html#0" TARGET="1"><IMG SRC="../../bitmaps/tm_0_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

    print('END', file=file)
    file.close()

main()&gt;&gt;&gt;&gt; file: leader_board.py
# leader_board.py

def process_line(line):
    parts = line.split(' ')
    name = parts[0]
    trials = int(parts[1])
</FONT>    average = float(parts[2])
    return (name, trials, average)

def get_max(entries):
    max = entries[0]
    for i in range(1, len(entries)):
        if entries[i][2] &lt;max[2]:
            max = entries[i]
            
    entries.remove(max)
    return max

def sort(entries):
    sorted_entries = []
    while len(entries)&gt;0:
        sorted_entries.append(get_max(entries))
    return sorted_entries

def output(entries):
    print('Subject        | Average Time')
    print('************** | ************')
    for entry in entries:
        print('{:14} | {:.6}'.format(entry[0], entry[2]))
              
def main():
    while True: # Loop to repeatedly ask for file name unless file exists and can be found
        file_name = input('Enter the name of the file:\n')
        try: file_input = open(file_name, 'r')
        except IOError as io_error:
            print(io_error)
            continue
        else: break
    entries = []
    n=0
    for line in file_input:
        n+=1
        try: entries.append(process_line(line))
        except IndexError as ind_err: #Exception for not enough information input
            print('Line', str(n)+':', line)
            print(ind_err)
            print("Please enter contests name followed by the number of tests and lastly the reaction time.")
        except ValueError as val_err: #Exception for str entered instead of integer or float
            print('Line', str(n)+':', line)
            print(val_err)
            print("Please enter contests name followed by the number of tests and lastly the reaction time.")
    file_input.close()
    
    entries = sort(entries)
    output(entries)
    
main()
    &gt;&gt;&gt;&gt; file: reaction_test.py
# Testing the reaction time of subjects
# gnxulr001
# Ulrich Geen
# 9 Sep 2016

from random import choice
from time import time, sleep

def get_max(entries):
    max = entries[0]
    for i in range(1, len(entries)):
        if entries[i][2] &lt;max[2]:
            max = entries[i]
            
    entries.remove(max)
    return max

def sort(entries):
    sorted_entries = []
    while len(entries)&gt;0:
        sorted_entries.append(get_max(entries))
    return sorted_entries


def reaction_test():
    # Test the subjects reaction speed
    print('Get ready...', flush=True)
    sleep_time=[1, 2, 3, 4, 5]
    sleep_time=choice(sleep_time)
    sleep(sleep_time)
    print("Press 'enter' NOW!")
    start_time=time()
    reaction_input=input("")
    end_time=time()
    time_taken=end_time - start_time
    return time_taken
    
def calc_average(reaction_times):
    # Calculates the average reaction time
    total=0
    reaction_times=reaction_times
    n=1
    for time in reaction_times:
        total+=time
        n+=1
    return total/n
    
def main():
    reaction_times=[]
    entries=[]
    # Get output file name
<A NAME="1"></A><FONT color = #00FF00><A HREF="match125-1.html#1" TARGET="1"><IMG SRC="../../bitmaps/tm_1_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

    file_name=input("Enter the name of the output file:\n")
    file=open(file_name, 'a')
    while True:
        # Get test subject's name
        new_name=input("Enter subject name (or press 'enter' to quit):\n")
        if new_name=='': break
        name=new_name
        # Get number of tests
        tests=int(input("Enter the number of tests:\n"))
</FONT>        # Performs the tests and gathers data
        for i in range(tests):
            reaction_times.append(reaction_test())
        average=round(calc_average(reaction_times), 6)
        entries.append((name, tests, average))
    entries=sort(entries)
    print('Subject        | Average Time', file=file)
    print('************** | ************', file=file)
    for entry in entries:
        print('The average reaction time for', entry[0], 'is', entry[2], 'seconds')# Displays the average reaction time
        print('{:14} | {:.6}'.format(entry[0], entry[2]), file=file)    # Appends data to file
    file.close()
        
main()</PRE>
</PRE>
</BODY>
</HTML>
